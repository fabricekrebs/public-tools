{"status":{},"contains_secrets":true,"product_version":"3.5.2","spec":{"description":"","resources":{"endpoints_information":[],"endpoint_definition_list":[],"credential_definition_list":[],"runbook":{"task_definition_list":[{"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[{"kind":"app_task","name":"Delete Calm Resources"},{"kind":"app_task","name":"Apply Terraform script"}],"name":"9fcd6fa0_dag","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Delete Calm Resources"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"Apply Terraform script"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"Delete Calm Resources","attrs":{"script":"#prepare the virtual environment\ncd @@{SCRIPT_DIR}@@\/calm\/calm-dsl\n. venv\/bin\/activate\ncd ..\n\n#update the calm cache\ncalm update cache\n\n#create the tunnel\ncalm delete network-group-tunnel @@{VPC_NAME}@@\n\n#create the new project\ncalm delete project @@{VPC_NAME}@@\n\n#remove the calm user from Calm\ncalm delete user @@{CUSTOMER}@@-user01@ntnxlab.local\n","type":"","command_line_args":"","exit_status":[],"script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"Apply Terraform script","attrs":{"script":"#go under the terraform dir\ncd @@{SCRIPT_DIR}@@\/terraform\n\n#apply the terraform script\nterraform workspace select @@{VPC_NAME}@@\n\nterraform destroy -var-file variables\/@@{VPC_NAME}@@.terraform.tfvars -auto-approve\n\nterraform workspace select default\n\n#create the terraform workspace with VPC_NAME\nterraform workspace delete @@{VPC_NAME}@@","type":"","command_line_args":"","exit_status":[],"script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"b38587e9_runbook","main_task_local_reference":{"kind":"app_task","name":"9fcd6fa0_dag"},"variable_list":[{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"CUSTOMER","value":"customer01","label":"","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}},{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"SCRIPT_DIR","value":"~\/cloud-native-automation\/calm\/msp","label":"","attrs":{"type":""},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}},{"val_type":"STRING","is_mandatory":true,"description":"","data_type":"BASE","type":"LOCAL","name":"VPC_NAME","value":"vpc-01","label":"","attrs":{"type":"LOCAL"},"editables":{"value":true},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}}]},"client_attrs":{},"default_target_reference":{"kind":"app_endpoint","name":"bastion"}},"name":"VPC Deletion"},"api_version":"3.0","metadata":{"last_update_time":"1667463697311456","kind":"runbook","spec_version":5,"creation_time":"1667381595373335","name":"VPC Deletion"}}